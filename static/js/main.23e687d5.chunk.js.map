{"version":3,"sources":["App.js","index.js"],"names":["api","App","useState","dadJoke","setDadJoke","loading","setLoading","jokeRef","useRef","generateNew","a","axios","get","then","res","data","attachments","fallback","useEffect","href","target","rel","className","ref","onClick","id","joke","current","textContent","copyBtn","document","getElementById","navigator","clipboard","alert","writeText","innerText","setTimeout","err","console","error","ReactDOM","render","StrictMode"],"mappings":"+PAEMA,EAAM,mCAqEGC,EAnEH,WAAO,IAAD,EACcC,mBAAS,IADvB,mBACTC,EADS,KACAC,EADA,OAEcF,oBAAS,GAFvB,mBAETG,EAFS,KAEAC,EAFA,KAGVC,EAAUC,mBAHA,SASDC,IATC,2EAShB,sBAAAC,EAAA,6DACEJ,GAAW,GADb,SAGQK,IAAMC,IAAIZ,GAAKa,MAAK,SAACC,GACzBV,EAAWU,EAAIC,KAAKC,YAAY,GAAGC,aAJvC,OAOEX,GAAW,GAPb,4CATgB,sBA0ChB,OArCAY,qBAAU,WACRT,MACC,IAoCD,gCACE,mDACA,mBACEU,KAAK,gEACLC,OAAO,SACPC,IAAI,sBAHN,8BAOA,sBAAKC,UAAU,OAAf,UACE,qBAAKA,UAAU,cAAf,SACE,sBAAMC,IAAKhB,EAAX,SAAqBF,EAAU,aAAeF,MAEhD,sBAAKmB,UAAU,cAAf,UACE,wBAAQE,QAASf,EAAjB,sBACA,wBAAQgB,GAAG,OAAOD,QAvC1B,WAA4B,IAAD,EACnBE,EAAI,UAAGnB,EAAQoB,eAAX,aAAG,EAAiBC,YACxBC,EAAUC,SAASC,eAAe,QAExC,IAAKC,UAAUC,UACb,OAAOC,MAAM,8CAIf,IACEF,UAAUC,UACPE,UAAUT,GACVb,KAAMgB,EAAQO,UAAY,WAC1BvB,KACCwB,YAAW,WACTR,EAAQO,UAAY,SACnB,MAEP,MAAOE,GACPC,QAAQC,MAAMF,KAoBV,iCCzDVG,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,EAAD,MAEFb,SAASC,eAAe,W","file":"static/js/main.23e687d5.chunk.js","sourcesContent":["import React, { useEffect, useRef, useState } from \"react\";\r\nimport axios from \"axios\";\r\nconst api = \"https://icanhazdadjoke.com/slack\";\r\n\r\nconst App = () => {\r\n  const [dadJoke, setDadJoke] = useState(\"\");\r\n  const [loading, setLoading] = useState(false);\r\n  const jokeRef = useRef();\r\n\r\n  useEffect(() => {\r\n    generateNew();\r\n  }, []);\r\n\r\n  async function generateNew() {\r\n    setLoading(true);\r\n\r\n    await axios.get(api).then((res) => {\r\n      setDadJoke(res.data.attachments[0].fallback);\r\n    });\r\n\r\n    setLoading(false);\r\n  }\r\n\r\n  function copyToClipboard() {\r\n    const joke = jokeRef.current?.textContent;\r\n    const copyBtn = document.getElementById(\"copy\");\r\n\r\n    if (!navigator.clipboard) {\r\n      return alert(\"navigator is not supported in this browser\");\r\n    }\r\n\r\n    // Thanks to https://codepen.io/flaviocopes/pen/yLBPaVY\r\n    try {\r\n      navigator.clipboard\r\n        .writeText(joke)\r\n        .then((copyBtn.innerText = \"Copied!\"))\r\n        .then(\r\n          setTimeout(() => {\r\n            copyBtn.innerText = \"Copy\";\r\n          }, 3000)\r\n        );\r\n    } catch (err) {\r\n      console.error(err);\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <h1>DadJoke Generator</h1>\r\n      <a\r\n        href=\"https://github.com/dev-caspertheghost/react-dadjoke-generator\"\r\n        target=\"_blank\"\r\n        rel=\"noopener noreferrer\"\r\n      >\r\n        View Source Code\r\n      </a>\r\n      <div className=\"card\">\r\n        <div className=\"card-header\">\r\n          <span ref={jokeRef}>{loading ? \"Loading...\" : dadJoke}</span>\r\n        </div>\r\n        <div className=\"card-footer\">\r\n          <button onClick={generateNew}>New Joke</button>\r\n          <button id=\"copy\" onClick={copyToClipboard}>\r\n            Copy Joke\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default App;\r\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);"],"sourceRoot":""}